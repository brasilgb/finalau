import{q as _,u as C,r,j as s}from"./app-Bo-taagn.js";import{D as $}from"./data-table-Cg6sOJ0h.js";import{a as D}from"./connectApi-CdP5Lxye.js";import{columns as M}from"./columns-DLdvOwPq.js";import{h as R}from"./moment-C5S46NFB.js";import{C as a,d as o}from"./card-Cz7hGGUp.js";import{c as b}from"./mask-B2q0qRsa.js";import{A as S}from"./app-loading-DKysEpjj.js";import"./table-BNDDpdwM.js";import"./button-DRU5aCFj.js";import"./input-CSjLMpot.js";import"./arrow-up-down-DXtCIDJG.js";function G(){var x,p,f,j;const{url:v,auth:e}=_().props,{companyNumber:n,selectedDate:c,setLoading:l,loading:d}=C(),[m,N]=r.useState([]),[t,A]=r.useState([]);return r.useEffect(()=>{(async()=>{var u;l(!0),await D.get(`${v}/api/associations?organization=${(u=e==null?void 0:e.user)==null?void 0:u.organization_id}&company=${n}&date=${R(c).format("YYYYMMDD")}`).then(i=>{const g=i.data.response.association;N(g),A(g.filter(y=>y.assoc_ass==="XX"))}).catch(i=>{console.log(i)}).finally(()=>l(!1))})()},[n,c]),s.jsxs(s.Fragment,{children:[d&&s.jsx(S,{}),m&&!d&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsx(a,{children:s.jsxs(o,{children:[s.jsx("div",{className:"text-xs font-bold",children:"Meta"}),s.jsxs("div",{className:"text-xl font-bold",children:["R$ ",b((x=t[0])==null?void 0:x.assoc_metdia)]})]})}),s.jsx(a,{children:s.jsxs(o,{children:[s.jsx("div",{className:"text-xs font-bold",children:"Venda"}),s.jsxs("div",{className:"text-xl font-bold",children:["R$ ",b((p=t[0])==null?void 0:p.assoc_valven)]})]})}),s.jsx(a,{children:s.jsxs(o,{children:[s.jsx("div",{className:"text-xs font-bold",children:"Margem"}),s.jsxs("div",{className:"text-xl font-bold",children:[(f=t[0])==null?void 0:f.assoc_margem,"%"]})]})}),s.jsx(a,{children:s.jsxs(o,{children:[s.jsx("div",{className:"text-xs font-bold",children:"Representa"}),s.jsxs("div",{className:"text-xl font-bold",children:[(j=t[0])==null?void 0:j.assoc_repres,"%"]})]})})]}),s.jsx($,{columns:M,data:m.filter(h=>h.assoc_ass!=="XX"),label:"Association",filter:""})]})]})}export{G as default};
