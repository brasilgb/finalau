import{r as k,q as F,v as I,j as a,$ as A,Y as E}from"./app-B76nWsCW.js";import{B as U}from"./breadcrumbs-D6HxmzAm.js";import{I as B}from"./user-menu-content-CCahR1UN.js";import{B as d}from"./button-I9H83SeU.js";import{A as L}from"./app-layout-CfP4eRmL.js";import{I as m}from"./input-wXgspvFv.js";import{L as o}from"./label-Cp1vFwCo.js";import{A as P,S as h}from"./react-select.esm-CkRv621k.js";import{I as g}from"./input-error-C8pydE_m.js";import{S as D}from"./switch-C_cEMSvr.js";import{r as j,E as f,a as u}from"./dataSelect-CUI928Ce.js";import{A as V}from"./app-alert-success-BTwkmnYU.js";import{U as $}from"./user-cog-DstCtoNS.js";import{S as O}from"./save-BIvzAPG1.js";import"./chevron-right-BEUVKeD8.js";import"./index-6WmMSoAy.js";import"./index-Oqs4sdI7.js";import"./index-CAncvxwC.js";import"./x-D5m91lKY.js";import"./index-BlyLgbcC.js";import"./index-U5qE53tJ.js";const R=[{title:"Dashboard",href:"/"},{title:"Usuários",href:"/users"},{title:"Alterar",href:"/users"}];function ma({user:e,organizations:v}){var p;const[r,c]=k.useState(!1),{flash:x,auth:Y}=F().props,l=v.map(s=>({value:s.id,label:s.name})),{data:n,setData:i,put:b,processing:w,errors:t}=I({organization_id:e==null?void 0:e.organization_id,name:e==null?void 0:e.name,email:e==null?void 0:e.email,roles:e==null?void 0:e.roles,status:e==null?void 0:e.status,password:"",password_confirmation:""}),N=s=>{i("roles",s==null?void 0:s.value)},S=s=>{i("organization_id",s==null?void 0:s.value)},y=s=>{s.preventDefault(),b(route("users.update",e==null?void 0:e.id))},C=(p=j)==null?void 0:p.filter(s=>s.value==(e==null?void 0:e.roles)).map(s=>({value:s.label,label:s.label})),z=l==null?void 0:l.filter(s=>s.value==(e==null?void 0:e.organization_id)).map(s=>({value:s.value,label:s.label}));return a.jsxs(L,{children:[a.jsx(A,{title:"Usuários"}),x.message&&a.jsx(V,{message:x.message}),a.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(B,{iconNode:$,className:"w-8 h-8"}),a.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Usuários"})]}),a.jsx("div",{children:a.jsx(U,{breadcrumbs:R})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4",children:[a.jsx("div",{children:a.jsx(d,{variant:"default",asChild:!0,children:a.jsxs(E,{href:route("users.index"),children:[a.jsx(P,{"h-4":!0,"w-4":!0}),a.jsx("span",{children:"Voltar"})]})})}),a.jsx("div",{})]}),a.jsx("div",{className:"p-4",children:a.jsx("div",{className:"border rounded-lg p-2",children:a.jsxs("form",{onSubmit:y,className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(o,{htmlFor:"organization_id",children:"Organização"}),a.jsx(h,{defaultValue:z,options:l,onChange:S,placeholder:"Selecione a organização",className:"shadow-xs p-0 border text-gray-700 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-9",styles:{control:(s,_)=>({...s,fontSize:"14px",boxShadow:"none",border:"none",background:"transparent",paddingBottom:"2px"}),dropdownIndicator:s=>({...s}),menuList:s=>({...s,fontSize:"14px"})}}),a.jsx(g,{className:"mt-2",message:t.organization_id})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(o,{htmlFor:"name",children:"Nome"}),a.jsx(m,{value:n.name,type:"text",id:"name",onChange:s=>i("name",s.target.value)}),t.name&&a.jsx("div",{className:"text-red-500 text-sm",children:t.name})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(o,{htmlFor:"email",children:"E-mail"}),a.jsx(m,{id:"email",type:"text",value:n.email,onChange:s=>i("email",s.target.value)}),t.email&&a.jsx("div",{className:"text-red-500 text-sm",children:t.email})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(o,{htmlFor:"password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(m,{type:r?"text":"password",id:"password",value:n.password,onChange:s=>i("password",s.target.value)}),a.jsx("div",{className:"absolute top-0 right-0 text-gray-600",children:a.jsx(d,{variant:"link",size:"icon",type:"button",onClick:()=>c(!r),children:r?a.jsx(f,{}):a.jsx(u,{})})})]}),t.password&&a.jsx("div",{className:"text-red-500 text-sm",children:t.password})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(o,{htmlFor:"password_confirmation",children:"Confirme a senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(m,{type:r?"text":"password",id:"password_confirmation",value:n.password_confirmation,onChange:s=>i("password_confirmation",s.target.value)}),a.jsx("div",{className:"absolute top-0 right-0 text-gray-600",children:a.jsx(d,{variant:"link",size:"icon",type:"button",onClick:()=>c(!r),children:r?a.jsx(f,{}):a.jsx(u,{})})})]}),t.password_confirmation&&a.jsx("div",{className:"text-red-500 text-sm",children:t.password_confirmation})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:" grid gap-2",children:[a.jsx(o,{htmlFor:"recipient",children:"Funções do usuário"}),a.jsx(h,{menuPosition:"fixed",defaultValue:C,options:j,onChange:N,placeholder:"Selecione o recebedor",className:"shadow-xs p-0 border text-gray-700 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-9",styles:{control:(s,_)=>({...s,fontSize:"14px",boxShadow:"none",border:"none",background:"transparent",paddingBottom:"2px"}),dropdownIndicator:s=>({...s}),menuList:s=>({...s,fontSize:"14px"})}}),a.jsx(g,{className:"mt-2",message:t.roles})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(o,{htmlFor:"status",children:"Status do usuário"}),a.jsx(D,{id:"status",checked:n.status,onCheckedChange:s=>i("status",s)})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(d,{type:"submit",disabled:w,children:[a.jsx(O,{}),"Salvar"]})})]})})})]})}export{ma as default};
