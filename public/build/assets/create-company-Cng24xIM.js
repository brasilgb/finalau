import{v as b,j as e,$ as N,Y as f}from"./app-vQYflon2.js";import{B as y}from"./breadcrumbs-DONGtP3H.js";import{I as C}from"./user-menu-content-3UKmr9TZ.js";import{B as d}from"./button-DYnYWLuL.js";import{A as F,B as S}from"./app-layout-C6PfHifT.js";import{I as n}from"./input-CxJBaErp.js";import{L as r}from"./label-AuC4kp8Y.js";import{A as w,S as z}from"./react-select.esm-DPXgExM_.js";import{I as B}from"./input-error-CwSPht41.js";import{S as k}from"./switch-C2DAmY7i.js";import{m as I,a as L,b as A,u as O}from"./mask-B2q0qRsa.js";import{T as _}from"./textarea-TlwBepOb.js";import{S as $}from"./save-qD0P1eSz.js";import"./chevron-right-CgcufIJ4.js";import"./index-CGym0r6e.js";import"./index-BU13R2f9.js";import"./index-Cd3FFv8U.js";import"./x-CZ6LDHwo.js";import"./index-DjRnmqvu.js";import"./index-CHkKqjYg.js";const D=[{title:"Dashboard",href:"/"},{title:"Filiais",href:"/companies"},{title:"Adicionar",href:"/companies"}];function te({organizations:m}){const p=m.map(s=>({value:s.id,label:s.name})),{data:t,setData:a,post:h,processing:x,reset:u,errors:i}=b({organization_id:"",cnpj:"",companyname:"",subnumber:"",subname:"",cep:"",state:"",city:"",district:"",street:"",number:"",complement:"",telephone:"",status:!1,whatsapp:"",observation:""}),j=s=>{s.preventDefault(),h(route("companies.store"),{onSuccess:()=>u()})},g=s=>{a("organization_id",s==null?void 0:s.value)},v=s=>{const c=O(s);fetch(`https://viacep.com.br/ws/${c}/json/`).then(o=>o.json()).then(o=>{a(l=>({...l,state:o.uf})),a(l=>({...l,city:o.localidade})),a(l=>({...l,district:o.bairro})),a(l=>({...l,street:o.logradouro})),a(l=>({...l,complement:o.complemento}))}).catch(o=>console.error(o))};return e.jsxs(F,{children:[e.jsx(N,{title:"Filiais"}),e.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{iconNode:S,className:"w-8 h-8"}),e.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Filiais"})]}),e.jsx("div",{children:e.jsx(y,{breadcrumbs:D})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsx("div",{children:e.jsx(d,{variant:"default",asChild:!0,children:e.jsxs(f,{href:route("companies.index"),children:[e.jsx(w,{"h-4":!0,"w-4":!0}),e.jsx("span",{children:"Voltar"})]})})}),e.jsx("div",{})]}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"border rounded-lg p-2",children:e.jsxs("form",{onSubmit:j,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-9 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2 col-span-2",children:[e.jsx(r,{htmlFor:"cnpj",children:"CNPJ"}),e.jsx(n,{value:I(t.cnpj),type:"text",id:"cnpj",onChange:s=>a("cnpj",s.target.value)}),i.cnpj&&e.jsx("div",{className:"text-red-500 text-sm",children:i.cnpj})]}),e.jsxs("div",{className:"grid gap-2 col-span-2",children:[e.jsx(r,{htmlFor:"companyname",children:"Razão social"}),e.jsx(n,{value:t.companyname,type:"text",id:"companyname",onChange:s=>a("companyname",s.target.value)}),i.companyname&&e.jsx("div",{className:"text-red-500 text-sm",children:i.companyname})]}),e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(r,{htmlFor:"organization_id",children:"Organização"}),e.jsx(z,{options:p,onChange:g,placeholder:"Selecione a organização",className:"shadow-xs p-0 border text-gray-700 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-9",styles:{control:(s,c)=>({...s,fontSize:"14px",boxShadow:"none",border:"none",background:"transparent",paddingBottom:"2px"}),dropdownIndicator:s=>({...s}),menuList:s=>({...s,fontSize:"14px"})}}),e.jsx(B,{className:"mt-2",message:i.organization_id})]}),e.jsxs("div",{className:"grid gap-2 col-span-2",children:[e.jsx(r,{htmlFor:"subname",children:"Nome da filial"}),e.jsx(n,{value:t.subname,type:"text",id:"subname",onChange:s=>a("subname",s.target.value)}),i.subname&&e.jsx("div",{className:"text-red-500 text-sm",children:i.subname})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"subnumber",children:"N° Filial"}),e.jsx(n,{id:"subnumber",type:"text",value:t.subnumber,onChange:s=>a("subnumber",s.target.value)}),i.subnumber&&e.jsx("div",{className:"text-red-500 text-sm",children:i.subnumber})]})]}),e.jsxs("div",{className:"grid grid-cols-9 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"cep",children:"CEP"}),e.jsx(n,{id:"cep",type:"text",value:L(t.cep),onChange:s=>a("cep",s.target.value),onBlurCapture:()=>v(t.cep),maxLength:9}),i.cep&&e.jsx("div",{className:"text-red-500 text-sm",children:i.cep})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"state",children:"UF"}),e.jsx(n,{value:t.state,type:"text",id:"state",onChange:s=>a("state",s.target.value)}),i.state&&e.jsx("div",{className:"text-red-500 text-sm",children:i.state})]}),e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(r,{htmlFor:"city",children:"Cidade"}),e.jsx(n,{type:"text",id:"city",value:t.city,onChange:s=>a("city",s.target.value)})]}),e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(r,{htmlFor:"district",children:"Bairro"}),e.jsx(n,{type:"text",id:"district",value:t.district,onChange:s=>a("district",s.target.value)})]}),e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(r,{htmlFor:"street",children:"Logradouro"}),e.jsx(n,{type:"text",id:"street",value:t.street,onChange:s=>a("street",s.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"number",children:"Número"}),e.jsx(n,{type:"text",id:"number",value:t.number,onChange:s=>a("number",s.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(r,{htmlFor:"complement",children:"Complemento"}),e.jsx(n,{type:"text",id:"complement",value:t.complement,onChange:s=>a("complement",s.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"telephone",children:"Telefone"}),e.jsx(n,{type:"text",id:"telephone",value:A(t.telephone),onChange:s=>a("telephone",s.target.value)}),i.telephone&&e.jsx("div",{className:"text-red-500 text-sm",children:i.telephone})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"whatsapp",children:"Whatsapp"}),e.jsx(n,{type:"text",id:"whatsapp",value:t.whatsapp,onChange:s=>a("whatsapp",s.target.value)})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(r,{htmlFor:"observation",children:"Observações"}),e.jsx(_,{id:"observation",value:t.observation,onChange:s=>a("observation",s.target.value)})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"status",children:"Status da filial"}),e.jsx(k,{id:"status",checked:t.status,onCheckedChange:s=>a("status",s)})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(d,{type:"submit",disabled:x,children:[e.jsx($,{}),"Salvar"]})})]})})})]})}export{te as default};
