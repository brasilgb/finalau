import{q as _,u as C,r,j as s}from"./app-B-IaKBO2.js";import{D as $}from"./data-table-BBnqMhm0.js";import{A as D,a as M}from"./app-loading-CEgK9vWZ.js";import{columns as R}from"./columns-Cwpp6PRH.js";import{h as S}from"./moment-C5S46NFB.js";import{C as t,d as o}from"./card-C_A3DJUt.js";import{c as u}from"./mask-B2q0qRsa.js";import"./table-BWDrxkGK.js";import"./button-CunQ2owp.js";import"./input-CtRny-Tx.js";import"./arrow-up-down-B9c9se0k.js";function B(){var d,m,x,p;const{url:g,auth:e}=_().props,{companyNumber:n,selectedDate:c,setLoading:l,loading:v}=C(),[b,N]=r.useState([]),[a,A]=r.useState([]);return r.useEffect(()=>{(async()=>{var j;l(!0),await M.get(`${g}/api/associations?organization=${(j=e==null?void 0:e.user)==null?void 0:j.organization_id}&company=${n}&date=${S(c).format("YYYYMMDD")}`).then(i=>{const h=i.data.response.association;N(h),A(h.filter(y=>y.assoc_ass==="XX"))}).catch(i=>{console.log(i)}).finally(()=>l(!1))})()},[n,c]),s.jsxs(s.Fragment,{children:[v&&s.jsx(D,{}),s.jsxs("div",{children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsx(t,{children:s.jsxs(o,{children:[s.jsx("div",{className:"text-xs font-bold",children:"Meta"}),s.jsxs("div",{className:"text-xl font-bold",children:["R$ ",u((d=a[0])==null?void 0:d.assoc_metdia)]})]})}),s.jsx(t,{children:s.jsxs(o,{children:[s.jsx("div",{className:"text-xs font-bold",children:"Venda"}),s.jsxs("div",{className:"text-xl font-bold",children:["R$ ",u((m=a[0])==null?void 0:m.assoc_valven)]})]})}),s.jsx(t,{children:s.jsxs(o,{children:[s.jsx("div",{className:"text-xs font-bold",children:"Margem"}),s.jsxs("div",{className:"text-xl font-bold",children:[(x=a[0])==null?void 0:x.assoc_margem,"%"]})]})}),s.jsx(t,{children:s.jsxs(o,{children:[s.jsx("div",{className:"text-xs font-bold",children:"Representa"}),s.jsxs("div",{className:"text-xl font-bold",children:[(p=a[0])==null?void 0:p.assoc_repres,"%"]})]})})]}),s.jsx($,{columns:R,data:b.filter(f=>f.assoc_ass!=="XX"),label:"Association",filter:""})]})]})}export{B as default};
