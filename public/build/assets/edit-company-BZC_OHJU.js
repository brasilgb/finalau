import{v as N,j as e,$ as C,Y as F}from"./app-CgH7Q3V2.js";import{B as w}from"./breadcrumbs-BXrl_aFy.js";import{I as S}from"./user-menu-content-uu6jv8cX.js";import{B as u}from"./button-OuIvN8CA.js";import{A as z,B}from"./app-layout-c-6KrzYr.js";import{I as d}from"./input-lfXdNdx5.js";import{L as a}from"./label-Ch9Fs0KH.js";import{A as k,S as I}from"./react-select.esm-DvvTrsXW.js";import{I as L}from"./input-error-CGJzsZwk.js";import{S as _}from"./switch-M6_Byumu.js";import{m as A,a as E,b as $,u as D}from"./mask-B2q0qRsa.js";import{T as O}from"./textarea-C3_b2fmF.js";import{S as P}from"./save-DCCgBb0B.js";/* empty css            */import"./chevron-right-BoSYfJd5.js";import"./index-BLoVF1Ug.js";import"./index-B-J17xLh.js";import"./index-4jeZDMMt.js";import"./x-CQsdOhM2.js";import"./index-BVi_zB76.js";import"./index-CLx5Jkl4.js";const T=[{title:"Dashboard",href:"/"},{title:"Filiais",href:"/companies"},{title:"Adicionar",href:"/companies"}];function le({organizations:c,company:s}){const x=c.map(t=>({value:t.id,label:t.name})),{data:r,setData:i,put:m,processing:j,reset:g,errors:l}=N({organization_id:s==null?void 0:s.organization_id,cnpj:s==null?void 0:s.cnpj,companyname:s==null?void 0:s.companyname,subnumber:s==null?void 0:s.subnumber,subname:s==null?void 0:s.subname,cep:s==null?void 0:s.cep,state:s==null?void 0:s.state,city:s==null?void 0:s.city,district:s==null?void 0:s.district,street:s==null?void 0:s.street,number:s==null?void 0:s.number,complement:s==null?void 0:s.complement,telephone:s==null?void 0:s.telephone,status:s==null?void 0:s.status,whatsapp:s==null?void 0:s.whatsapp,observation:s==null?void 0:s.observation}),v=t=>{t.preventDefault(),m(route("companies.update",s==null?void 0:s.id),{onSuccess:()=>g()})},p=t=>{i("organization_id",t==null?void 0:t.value)},b=x==null?void 0:x.filter(t=>t.value==(s==null?void 0:s.organization_id)).map(t=>({value:t.value,label:t.label})),f=t=>{const o=D(t);fetch(`https://viacep.com.br/ws/${o}/json/`).then(n=>n.json()).then(n=>{i(h=>({...h,state:n.uf})),i(h=>({...h,city:n.localidade})),i(h=>({...h,district:n.bairro})),i(h=>({...h,street:n.logradouro})),i(h=>({...h,complement:n.complemento}))}).catch(n=>console.error(n))};return e.jsxs(z,{children:[e.jsx(C,{title:"Filiais"}),e.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{iconNode:B,className:"w-8 h-8"}),e.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Filiais"})]}),e.jsx("div",{children:e.jsx(w,{breadcrumbs:T})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsx("div",{children:e.jsx(u,{variant:"default",asChild:!0,children:e.jsxs(F,{href:route("companies.index"),children:[e.jsx(k,{"h-4":!0,"w-4":!0}),e.jsx("span",{children:"Voltar"})]})})}),e.jsx("div",{})]}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"border rounded-lg p-2",children:e.jsxs("form",{onSubmit:v,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-9 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2 col-span-2",children:[e.jsx(a,{htmlFor:"cnpj",children:"CNPJ"}),e.jsx(d,{value:A(r.cnpj),type:"text",id:"cnpj",onChange:t=>i("cnpj",t.target.value)}),l.cnpj&&e.jsx("div",{className:"text-red-500 text-sm",children:l.cnpj})]}),e.jsxs("div",{className:"grid gap-2 col-span-2",children:[e.jsx(a,{htmlFor:"companyname",children:"Razão social"}),e.jsx(d,{value:r.companyname,type:"text",id:"companyname",onChange:t=>i("companyname",t.target.value)}),l.companyname&&e.jsx("div",{className:"text-red-500 text-sm",children:l.companyname})]}),e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(a,{htmlFor:"organization_id",children:"Organização"}),e.jsx(I,{defaultValue:b,options:x,onChange:p,placeholder:"Selecione a organização",className:"shadow-xs p-0 border text-gray-700 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-9",styles:{control:(t,o)=>({...t,fontSize:"14px",boxShadow:"none",border:"none",background:"transparent",paddingBottom:"2px"}),dropdownIndicator:t=>({...t}),menuList:t=>({...t,fontSize:"14px"})}}),e.jsx(L,{className:"mt-2",message:l.organization_id})]}),e.jsxs("div",{className:"grid gap-2 col-span-2",children:[e.jsx(a,{htmlFor:"subname",children:"Nome da filial"}),e.jsx(d,{value:r.subname,type:"text",id:"subname",onChange:t=>i("subname",t.target.value)}),l.subname&&e.jsx("div",{className:"text-red-500 text-sm",children:l.subname})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"subnumber",children:"N° Filial"}),e.jsx(d,{id:"subnumber",type:"text",value:r.subnumber,onChange:t=>i("subnumber",t.target.value)}),l.subnumber&&e.jsx("div",{className:"text-red-500 text-sm",children:l.subnumber})]})]}),e.jsxs("div",{className:"grid grid-cols-9 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"cep",children:"CEP"}),e.jsx(d,{id:"cep",type:"text",value:E(r.cep),onChange:t=>i("cep",t.target.value),onBlurCapture:()=>f(r.cep),maxLength:9}),l.cep&&e.jsx("div",{className:"text-red-500 text-sm",children:l.cep})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"state",children:"UF"}),e.jsx(d,{value:r.state,type:"text",id:"state",onChange:t=>i("state",t.target.value)}),l.state&&e.jsx("div",{className:"text-red-500 text-sm",children:l.state})]}),e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(a,{htmlFor:"city",children:"Cidade"}),e.jsx(d,{type:"text",id:"city",value:r.city,onChange:t=>i("city",t.target.value)})]}),e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(a,{htmlFor:"district",children:"Bairro"}),e.jsx(d,{type:"text",id:"district",value:r.district,onChange:t=>i("district",t.target.value)})]}),e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(a,{htmlFor:"street",children:"Logradouro"}),e.jsx(d,{type:"text",id:"street",value:r.street,onChange:t=>i("street",t.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"number",children:"Número"}),e.jsx(d,{type:"text",id:"number",value:r.number,onChange:t=>i("number",t.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(a,{htmlFor:"complement",children:"Complemento"}),e.jsx(d,{type:"text",id:"complement",value:r.complement,onChange:t=>i("complement",t.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"telephone",children:"Telefone"}),e.jsx(d,{type:"text",id:"telephone",value:$(r.telephone),onChange:t=>i("telephone",t.target.value)}),l.telephone&&e.jsx("div",{className:"text-red-500 text-sm",children:l.telephone})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"whatsapp",children:"Whatsapp"}),e.jsx(d,{type:"text",id:"whatsapp",value:r.whatsapp,onChange:t=>i("whatsapp",t.target.value)})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(a,{htmlFor:"observation",children:"Observações"}),e.jsx(O,{id:"observation",value:r.observation,onChange:t=>i("observation",t.target.value)})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"status",children:"Status da filial"}),e.jsx(_,{id:"status",checked:r.status,onCheckedChange:t=>i("status",t)})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(u,{type:"submit",disabled:j,children:[e.jsx(P,{}),"Salvar"]})})]})})})]})}export{le as default};
