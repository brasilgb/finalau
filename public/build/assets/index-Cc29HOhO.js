import{q as _,u as C,r,j as s}from"./app-Dvc1I6D_.js";import{D as $}from"./data-table--65qILkE.js";import{A as D,a as M}from"./app-loading-JJtnX0y0.js";import{columns as R}from"./columns-CUlzhXqF.js";import{h as S}from"./moment-C5S46NFB.js";import{C as t,d as o}from"./card-BqdhQ3A_.js";import{c as u}from"./mask-B2q0qRsa.js";import"./table-7oaf58Zo.js";import"./button-BurR1nes.js";import"./input-BWcrOCBg.js";import"./arrow-up-down-DnYF-hiv.js";function B(){var d,m,x,p;const{url:g,auth:e}=_().props,{companyNumber:n,selectedDate:c,setLoading:l,loading:b}=C(),[v,N]=r.useState([]),[a,A]=r.useState([]);return r.useEffect(()=>{(async()=>{var j;l(!0),await M.get(`${g}/api/associations?organization=${(j=e==null?void 0:e.user)==null?void 0:j.organization_id}&company=${n}&date=${S(c).format("YYYYMMDD")}`).then(i=>{const h=i.data.response.association;N(h),A(h.filter(y=>y.assoc_ass==="XX"))}).catch(i=>{console.log(i)}).finally(()=>l(!1))})()},[n,c]),s.jsx(s.Fragment,{children:b?s.jsx(D,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsx(t,{children:s.jsxs(o,{children:[s.jsx("div",{className:"text-xs font-bold",children:"Meta"}),s.jsxs("div",{className:"text-xl font-bold",children:["R$ ",u((d=a[0])==null?void 0:d.assoc_metdia)]})]})}),s.jsx(t,{children:s.jsxs(o,{children:[s.jsx("div",{className:"text-xs font-bold",children:"Venda"}),s.jsxs("div",{className:"text-xl font-bold",children:["R$ ",u((m=a[0])==null?void 0:m.assoc_valven)]})]})}),s.jsx(t,{children:s.jsxs(o,{children:[s.jsx("div",{className:"text-xs font-bold",children:"Margem"}),s.jsxs("div",{className:"text-xl font-bold",children:[(x=a[0])==null?void 0:x.assoc_margem,"%"]})]})}),s.jsx(t,{children:s.jsxs(o,{children:[s.jsx("div",{className:"text-xs font-bold",children:"Representa"}),s.jsxs("div",{className:"text-xl font-bold",children:[(p=a[0])==null?void 0:p.assoc_repres,"%"]})]})})]}),s.jsx($,{columns:R,data:v.filter(f=>f.assoc_ass!=="XX"),label:"Association",filter:""})]})})}export{B as default};
