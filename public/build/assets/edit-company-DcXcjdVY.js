import{v as N,j as e,$ as C,Y as F}from"./app-CPBzf7B8.js";import{B as w}from"./breadcrumbs-CQiRi07Z.js";import{I as S}from"./user-menu-content-DElQ8lpO.js";import{B as u}from"./button-BErlqhhM.js";import{A as z,B}from"./app-layout-CUWz4LXH.js";import{I as d}from"./input-DKRgXzI5.js";import{L as r}from"./label-B8BGjdaU.js";import{A as k,S as I}from"./react-select.esm-fHG5CJLP.js";import{I as L}from"./input-error-CcMH5j_z.js";import{S as _}from"./switch-R60nDAol.js";import{m as A,a as E,b as $,u as D}from"./mask-B2q0qRsa.js";import{T as O}from"./textarea-aZZXTaLd.js";import{S as P}from"./save-Bnsu2bgG.js";import"./chevron-right-Cvv9GJL_.js";import"./index-BoC4reIM.js";import"./index-D7emuf5m.js";import"./index-Cccvujlc.js";import"./x-BOuWfCF1.js";import"./index-hgVRWJ4E.js";import"./index-E4jShp4t.js";const T=[{title:"Dashboard",href:"/"},{title:"Filiais",href:"/companies"},{title:"Adicionar",href:"/companies"}];function re({organizations:c,company:s}){const x=c.map(t=>({value:t.id,label:t.name})),{data:i,setData:a,put:m,processing:j,reset:g,errors:l}=N({organization_id:s==null?void 0:s.organization_id,cnpj:s==null?void 0:s.cnpj,companyname:s==null?void 0:s.companyname,subnumber:s==null?void 0:s.subnumber,subname:s==null?void 0:s.subname,cep:s==null?void 0:s.cep,state:s==null?void 0:s.state,city:s==null?void 0:s.city,district:s==null?void 0:s.district,street:s==null?void 0:s.street,number:s==null?void 0:s.number,complement:s==null?void 0:s.complement,telephone:s==null?void 0:s.telephone,status:s==null?void 0:s.status,whatsapp:s==null?void 0:s.whatsapp,observation:s==null?void 0:s.observation}),v=t=>{t.preventDefault(),m(route("companies.update",s==null?void 0:s.id),{onSuccess:()=>g()})},p=t=>{a("organization_id",t==null?void 0:t.value)},b=x==null?void 0:x.filter(t=>t.value==(s==null?void 0:s.organization_id)).map(t=>({value:t.value,label:t.label})),f=t=>{const o=D(t);fetch(`https://viacep.com.br/ws/${o}/json/`).then(n=>n.json()).then(n=>{a(h=>({...h,state:n.uf})),a(h=>({...h,city:n.localidade})),a(h=>({...h,district:n.bairro})),a(h=>({...h,street:n.logradouro})),a(h=>({...h,complement:n.complemento}))}).catch(n=>console.error(n))};return e.jsxs(z,{children:[e.jsx(C,{title:"Filiais"}),e.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{iconNode:B,className:"w-8 h-8"}),e.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Filiais"})]}),e.jsx("div",{children:e.jsx(w,{breadcrumbs:T})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsx("div",{children:e.jsx(u,{variant:"default",asChild:!0,children:e.jsxs(F,{href:route("companies.index"),children:[e.jsx(k,{"h-4":!0,"w-4":!0}),e.jsx("span",{children:"Voltar"})]})})}),e.jsx("div",{})]}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"border rounded-lg p-2",children:e.jsxs("form",{onSubmit:v,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-9 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2 col-span-2",children:[e.jsx(r,{htmlFor:"cnpj",children:"CNPJ"}),e.jsx(d,{value:A(i.cnpj),type:"text",id:"cnpj",onChange:t=>a("cnpj",t.target.value)}),l.cnpj&&e.jsx("div",{className:"text-red-500 text-sm",children:l.cnpj})]}),e.jsxs("div",{className:"grid gap-2 col-span-2",children:[e.jsx(r,{htmlFor:"companyname",children:"Razão social"}),e.jsx(d,{value:i.companyname,type:"text",id:"companyname",onChange:t=>a("companyname",t.target.value)}),l.companyname&&e.jsx("div",{className:"text-red-500 text-sm",children:l.companyname})]}),e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(r,{htmlFor:"organization_id",children:"Organização"}),e.jsx(I,{defaultValue:b,options:x,onChange:p,placeholder:"Selecione a organização",className:"shadow-xs p-0 border text-gray-700 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-9",styles:{control:(t,o)=>({...t,fontSize:"14px",boxShadow:"none",border:"none",background:"transparent",paddingBottom:"2px"}),dropdownIndicator:t=>({...t}),menuList:t=>({...t,fontSize:"14px"})}}),e.jsx(L,{className:"mt-2",message:l.organization_id})]}),e.jsxs("div",{className:"grid gap-2 col-span-2",children:[e.jsx(r,{htmlFor:"subname",children:"Nome da filial"}),e.jsx(d,{value:i.subname,type:"text",id:"subname",onChange:t=>a("subname",t.target.value)}),l.subname&&e.jsx("div",{className:"text-red-500 text-sm",children:l.subname})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"subnumber",children:"N° Filial"}),e.jsx(d,{id:"subnumber",type:"text",value:i.subnumber,onChange:t=>a("subnumber",t.target.value)}),l.subnumber&&e.jsx("div",{className:"text-red-500 text-sm",children:l.subnumber})]})]}),e.jsxs("div",{className:"grid grid-cols-9 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"cep",children:"CEP"}),e.jsx(d,{id:"cep",type:"text",value:E(i.cep),onChange:t=>a("cep",t.target.value),onBlurCapture:()=>f(i.cep),maxLength:9}),l.cep&&e.jsx("div",{className:"text-red-500 text-sm",children:l.cep})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"state",children:"UF"}),e.jsx(d,{value:i.state,type:"text",id:"state",onChange:t=>a("state",t.target.value)}),l.state&&e.jsx("div",{className:"text-red-500 text-sm",children:l.state})]}),e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(r,{htmlFor:"city",children:"Cidade"}),e.jsx(d,{type:"text",id:"city",value:i.city,onChange:t=>a("city",t.target.value)})]}),e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(r,{htmlFor:"district",children:"Bairro"}),e.jsx(d,{type:"text",id:"district",value:i.district,onChange:t=>a("district",t.target.value)})]}),e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(r,{htmlFor:"street",children:"Logradouro"}),e.jsx(d,{type:"text",id:"street",value:i.street,onChange:t=>a("street",t.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"number",children:"Número"}),e.jsx(d,{type:"text",id:"number",value:i.number,onChange:t=>a("number",t.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(r,{htmlFor:"complement",children:"Complemento"}),e.jsx(d,{type:"text",id:"complement",value:i.complement,onChange:t=>a("complement",t.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"telephone",children:"Telefone"}),e.jsx(d,{type:"text",id:"telephone",value:$(i.telephone),onChange:t=>a("telephone",t.target.value)}),l.telephone&&e.jsx("div",{className:"text-red-500 text-sm",children:l.telephone})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"whatsapp",children:"Whatsapp"}),e.jsx(d,{type:"text",id:"whatsapp",value:i.whatsapp,onChange:t=>a("whatsapp",t.target.value)})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(r,{htmlFor:"observation",children:"Observações"}),e.jsx(O,{id:"observation",value:i.observation,onChange:t=>a("observation",t.target.value)})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"status",children:"Status da filial"}),e.jsx(_,{id:"status",checked:i.status,onCheckedChange:t=>a("status",t)})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(u,{type:"submit",disabled:j,children:[e.jsx(P,{}),"Salvar"]})})]})})})]})}export{re as default};
