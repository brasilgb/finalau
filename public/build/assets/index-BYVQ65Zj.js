import{q as A,u as y,r as i,j as s}from"./app-CPBzf7B8.js";import{D as C}from"./data-table-DCRrLTST.js";import{a as _}from"./connectApi-Cu_qW8tL.js";import{columns as D}from"./columns-5G3vUGD2.js";import{h as M}from"./moment-C5S46NFB.js";import{C as a,d as o}from"./card-CJ0BGqjS.js";import{c as u}from"./mask-B2q0qRsa.js";import{A as $}from"./app-loading-CZOG7WTz.js";import"./table-C7nzaUVk.js";import"./button-BErlqhhM.js";import"./input-DKRgXzI5.js";import"./arrow-up-down-7ohd94Qw.js";function V(){var m,x,p,f;const{url:g}=A().props,{companyNumber:r,selectedDate:n,setLoading:c,loading:l}=y(),[d,b]=i.useState([]),[t,v]=i.useState([]);return i.useEffect(()=>{(async()=>{c(!0),await _.get(`${g}/api/associations?organization=1&company=${r}&date=${M(n).format("YYYYMMDD")}`).then(e=>{const j=e.data.response.association;b(j),v(j.filter(N=>N.assoc_ass==="XX"))}).catch(e=>{console.log(e)}).finally(()=>c(!1))})()},[r,n]),s.jsxs(s.Fragment,{children:[l&&s.jsx($,{}),d&&!l&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsx(a,{children:s.jsxs(o,{children:[s.jsx("div",{className:"text-xs font-bold",children:"Meta"}),s.jsxs("div",{className:"text-xl font-bold",children:["R$ ",u((m=t[0])==null?void 0:m.assoc_metdia)]})]})}),s.jsx(a,{children:s.jsxs(o,{children:[s.jsx("div",{className:"text-xs font-bold",children:"Venda"}),s.jsxs("div",{className:"text-xl font-bold",children:["R$ ",u((x=t[0])==null?void 0:x.assoc_valven)]})]})}),s.jsx(a,{children:s.jsxs(o,{children:[s.jsx("div",{className:"text-xs font-bold",children:"Margem"}),s.jsxs("div",{className:"text-xl font-bold",children:[(p=t[0])==null?void 0:p.assoc_margem,"%"]})]})}),s.jsx(a,{children:s.jsxs(o,{children:[s.jsx("div",{className:"text-xs font-bold",children:"Representa"}),s.jsxs("div",{className:"text-xl font-bold",children:[(f=t[0])==null?void 0:f.assoc_repres,"%"]})]})})]}),s.jsx(C,{columns:D,data:d.filter(h=>h.assoc_ass!=="XX"),label:"Association",filter:""})]})]})}export{V as default};
